extends layout

block content
  div.middle-content-hiscores
    div.title.hiscores-panel
      h2.hiscores-title #{server_name} Hiscores
      a.hiscores-link(href=server) Return to main menu

    div.hiscores
      div.hiscore-links
        h4
          span Select hiscore table
        div.hiscores-panel
          each skillName in skills
            - let skillLink = "hiscores?skill=" + skillName
            a.hiscores-link(href=skillLink) #{skillName[0].toUpperCase() + skillName.substr(1)}
      div.hiscore-table
        h4 #{skill} Hiscores
        div.hiscores-panel
          table
            thead
              th Rank
              th Name
              th Level
              th XP
            tbody
              each row in hiscores
                tr
                  each column, index in row
                    if index === 'username'
                      td
                        a(href="player/" + column) #{column}
                    else
                      td= column
    div.hiscore-search
      div.search-box.search-rank
        - let actionTextRank = "hiscores?skill=" + skill.toLowerCase();
        form(method="POST", action=actionTextRank, role="search")
          input(type="hidden", name="_csrf", value=csrfToken)
          label(for="rank") Search by rank
          input#rank(name="rank", type="text")
          input(type="submit", value="Search", aria-label="Search by rank")
      div.search-box.search-name
        - let actionTextName = "hiscores?skill=" + skill.toLowerCase();
        form(method="POST", action=actionTextName, role="search")
          input(type="hidden", name="_csrf", value=csrfToken)
          label(for="name") Search by name
          input#name(name="name", type="text")
          input(type="submit", value="Search", aria-label="Search by username")
